<div>
    <h2> Nombre: {{ productos.name | title }}</h2> {# Filter title 4 #}
    <p>sku: {{ productos.sku | upper }}</p> {# Filter upper 3 #}
    <p>Fabricante: {{ productos.manufacturer.name }}</p>
    <p>Precio: {{ productos.price }}</p>
    {% if productos.stock == 0 %} {# IF == 1 #}
        <p>Stock: Agotado</p>
    {% else %}
        <p>Stock: {{ productos.stock }}</p>
    {% endif %}
    <p>Categorias:</p>
    {% for categoria in productos.categories.all %}
        {% if categoria.name != "Ofertas" %} {# IF != 3 #}
            <span>No es oferta</span>
        {% endif %}
        <li>{{ categoria.name | capfirst }}</li> {# Filter capfirst 5 #}
        <li><a href="{% url 'products_by_category' categoria.slug %}">Ver más en esta categoría</a></li>
    {% empty %} {# Template tag empty 1 #}
        <li>Este producto no tiene categorías asignadas.</li> 
    {% endfor %}
</div>
<a href="{% url 'product_detail' productos.id %}">Ver detalles</a>

{% load bootstrap_icons %}
        <div class="mb-2">
            <button type="button" 
                    class="btn btn-outline-primary"> 
                    {# <a href="{% url 'libro_editar' libro.id %}" ><span>{% bs_icon 'pencil' %}</span></a> hacer esto adaptado a Actualizar producto #}
                    <a href="{% url 'producto_update' productos.id %}"><span>{% bs_icon 'pencil' %}</span></a>
                    
            </button>
        </div>
        <div class="mb-2">
    {# Botón que abre el modal, NO borra aún #}
            <button type="button"
                    class="btn btn-danger"
                    data-bs-toggle="modal"
                    data-bs-target="#modalEliminar{{ productos.id }}">
                <span>{% bs_icon 'trash' %}</span>
            </button>
        </div>
        {# Modal de confirmación de borrado #}
        <div class="modal fade"
             id="modalEliminar{{ productos.id }}"
             tabindex="-1"
             aria-labelledby="modalEliminarLabel{{ productos.id }}"
                aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title"
                            id="modalEliminarLabel{{ productos.id }}">
                            Confirmar eliminación
                        </h5>
                        <button type="button"
                                class="btn-close"
                                data-bs-dismiss="modal"
                                aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        ¿Está seguro de que desea eliminar el producto "{{ productos.name }}"?
                    </div>
                    <div class="modal-footer">
                        <button type="button"
                                class="btn btn-secondary"
                                data-bs-dismiss="modal">
                            Cancelar
                        </button>
                        <form method="post"
                              action="{% url 'producto_delete' productos.id %}">
                            {% csrf_token %}
                            <button type="submit"
                                    class="btn btn-danger">
                                Eliminar
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>